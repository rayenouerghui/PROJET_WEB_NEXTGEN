/* ============================================
   LIGHT/DARK MODE THEME SYSTEM
   Smooth theme transitions with localStorage
   ============================================ */

/* THEME TRANSITION */
* {
    transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* Exclude animations and transforms from theme transitions */
*,
*::before,
*::after {
    transition-property: background-color, border-color, color, box-shadow, fill, stroke !important;
}

/* LIGHT MODE STYLES */
body.light-mode {
    background: linear-gradient(135deg, #f0f4f8 0%, #e2e8f0 100%) !important;
}

body.light-mode::before {
    background: rgba(255, 255, 255, 0.7) !important;
}

body.light-mode::after {
    background-image:
        radial-gradient(circle at 20% 50%, rgba(139, 92, 246, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(236, 72, 153, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 40% 20%, rgba(6, 182, 212, 0.05) 0%, transparent 50%) !important;
}

/* Light Mode - Topbar */
body.light-mode .app-topbar {
    background: rgba(255, 255, 255, 0.9) !important;
    border-bottom: 1px solid rgba(139, 92, 246, 0.15) !important;
    box-shadow: 0 4px 20px rgba(139, 92, 246, 0.1) !important;
}

body.light-mode .color-line {
    box-shadow: 0 0 15px rgba(139, 92, 246, 0.3) !important;
}

body.light-mode .page-title,
body.light-mode .breadcrumb-item,
body.light-mode .breadcrumb-item a {
    color: #1e293b !important;
}

body.light-mode .breadcrumb-item.active {
    color: #8b5cf6 !important;
}

/* Light Mode - Sidebar */
body.light-mode .sidenav-menu {
    background: rgba(255, 255, 255, 0.95) !important;
    border-right: 1px solid rgba(139, 92, 246, 0.15) !important;
    box-shadow: 4px 0 20px rgba(0, 0, 0, 0.08) !important;
}

body.light-mode .sidenav-user {
    background: rgba(139, 92, 246, 0.08) !important;
    border-color: rgba(139, 92, 246, 0.2) !important;
}

body.light-mode .sidenav-user h4,
body.light-mode .sidenav-user h6,
body.light-mode .sidebar-user-name h4,
body.light-mode .sidebar-user-name h6 {
    color: #1e293b !important;
}

body.light-mode .side-nav-title {
    color: #64748b !important;
}

body.light-mode .side-nav-link {
    color: #475569 !important;
}

body.light-mode .side-nav-link:hover,
body.light-mode .side-nav-link.active {
    background: rgba(139, 92, 246, 0.12) !important;
    color: #7c3aed !important;
}

/* Light Mode - Cards */
body.light-mode .card {
    background: rgba(255, 255, 255, 0.9) !important;
    border-color: rgba(139, 92, 246, 0.2) !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08) !important;
}

body.light-mode .card:hover {
    box-shadow: 0 8px 30px rgba(139, 92, 246, 0.2),
        0 0 0 1px rgba(236, 72, 153, 0.2) inset !important;
}

body.light-mode .card-header {
    background: rgba(139, 92, 246, 0.05) !important;
    border-bottom-color: rgba(139, 92, 246, 0.2) !important;
}

body.light-mode .card-body {
    color: #1e293b !important;
}

body.light-mode .text-muted {
    color: #64748b !important;
}

body.light-mode h1,
body.light-mode h2,
body.light-mode h3,
body.light-mode h4,
body.light-mode h5,
body.light-mode h6 {
    color: #1e293b !important;
}

/* Light Mode - Forms */
body.light-mode .form-control,
body.light-mode .form-select {
    background: rgba(255, 255, 255, 0.8) !important;
    border-color: rgba(139, 92, 246, 0.25) !important;
    color: #1e293b !important;
}

body.light-mode .form-control:focus,
body.light-mode .form-select:focus {
    background: #ffffff !important;
    border-color: #8b5cf6 !important;
    box-shadow: 0 0 0 4px rgba(139, 92, 246, 0.1),
        0 0 15px rgba(139, 92, 246, 0.25) !important;
    color: #1e293b !important;
}

body.light-mode .form-control::placeholder {
    color: #94a3b8 !important;
}

body.light-mode .form-label {
    color: #475569 !important;
}

/* Light Mode - Table */
body.light-mode .table {
    color: #1e293b !important;
}

body.light-mode .table-light {
    background: rgba(139, 92, 246, 0.08) !important;
    border-bottom-color: rgba(139, 92, 246, 0.2) !important;
}

body.light-mode .table-light th {
    color: #7c3aed !important;
}

body.light-mode .table tbody tr {
    border-bottom-color: rgba(139, 92, 246, 0.1) !important;
}

body.light-mode .table tbody tr:nth-child(even) {
    background: rgba(139, 92, 246, 0.03) !important;
}

body.light-mode .table tbody tr:hover {
    background: linear-gradient(90deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.06)) !important;
}

/* Light Mode - Dropdown */
body.light-mode .dropdown-menu {
    background: rgba(255, 255, 255, 0.98) !important;
    border-color: rgba(139, 92, 246, 0.2) !important;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15) !important;
}

body.light-mode .dropdown-item {
    color: #1e293b !important;
}

body.light-mode .dropdown-item:hover {
    background: rgba(139, 92, 246, 0.1) !important;
    color: #7c3aed !important;
}

body.light-mode .dropdown-header {
    color: #64748b !important;
}

/* Light Mode - Scrollbar */
body.light-mode ::-webkit-scrollbar-track {
    background: rgba(241, 245, 249, 0.8) !important;
}

body.light-mode ::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #8b5cf6, #a78bfa) !important;
    box-shadow: 0 0 8px rgba(139, 92, 246, 0.4) !important;
}

/* Light Mode - Dark Mode Toggle Button */
body.light-mode #light-dark-mode {
    background: rgba(139, 92, 246, 0.08) !important;
    border-color: rgba(139, 92, 246, 0.25) !important;
    color: #7c3aed !important;
}

body.light-mode #light-dark-mode:hover {
    background: rgba(139, 92, 246, 0.15) !important;
}

/* Light Mode - Icon Colors */
body.light-mode .ri-moon-line,
body.light-mode .ri-sun-line {
    color: #7c3aed !important;
}

/* SMOOTHER ANIMATIONS - Optimized Durations */
.card {
    transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 0.25s cubic-bezier(0.4, 0, 0.2, 1),
        background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.btn {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.table tbody tr {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.form-control,
.form-select {
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* Theme Toggle Animation */
#light-dark-mode {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

#light-dark-mode i {
    transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55) !important;
}

#light-dark-mode:active i {
    transform: rotate(360deg) scale(0.9);
}